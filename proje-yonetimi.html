<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERP - Proje Y√∂netimi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .header-left h1 {
            color: #2c3e50;
            font-size: 2.2rem;
            margin-bottom: 5px;
        }

        .header-left p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        .header-right {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #2980b9, #1f618d);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.3);
        }

        .btn-secondary {
            background: rgba(149, 165, 166, 0.2);
            color: #2c3e50;
            border: 2px solid rgba(149, 165, 166, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(149, 165, 166, 0.3);
            transform: translateY(-2px);
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #c0392b, #a93226);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3);
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
        }

        .btn-success:hover {
            background: linear-gradient(135deg, #229954, #1e8449);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .btn-warning:hover {
            background: linear-gradient(135deg, #e67e22, #d35400);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(243, 156, 18, 0.3);
        }

        .btn-info {
            background: linear-gradient(135deg, #17a2b8, #138496);
            color: white;
        }

        .btn-info:hover {
            background: linear-gradient(135deg, #138496, #117a8b);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(23, 162, 184, 0.3);
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 1rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
        }

        .project-table-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .table-header h2 {
            color: #2c3e50;
            font-size: 1.5rem;
        }

        .search-box {
            padding: 10px 15px;
            border: 2px solid rgba(149, 165, 166, 0.3);
            border-radius: 10px;
            font-size: 1rem;
            width: 250px;
            background: rgba(255, 255, 255, 0.8);
        }

        .search-box:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.2);
        }

        .project-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .project-table th,
        .project-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(149, 165, 166, 0.2);
        }

        .project-table th {
            background: rgba(52, 152, 219, 0.1);
            color: #2c3e50;
            font-weight: bold;
            font-size: 1rem;
        }

        .project-table tr:hover {
            background: rgba(52, 152, 219, 0.05);
        }

        .project-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .status-planning {
            background: #fff3cd;
            color: #856404;
        }

        .status-active {
            background: #d5f4e6;
            color: #27ae60;
        }

        .status-completed {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-paused {
            background: #f8d7da;
            color: #721c24;
        }

        .priority-high {
            background: #f8d7da;
            color: #721c24;
        }

        .priority-medium {
            background: #fff3cd;
            color: #856404;
        }

        .priority-low {
            background: #d5f4e6;
            color: #27ae60;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 0.8rem;
            border-radius: 6px;
        }

        .project-form-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            height: fit-content;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: bold;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid rgba(149, 165, 166, 0.3);
            border-radius: 10px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.8);
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.2);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.95);
            margin: 2% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-header h2 {
            color: #2c3e50;
            margin: 0;
        }

        .close {
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            color: #7f8c8d;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #e74c3c;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1001;
            color: white;
            font-weight: bold;
        }

        .notification.show {
            transform: translateX(0);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(149, 165, 166, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #27ae60, #229954);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .task-item {
            background: rgba(52, 152, 219, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .task-title {
            font-weight: bold;
            color: #2c3e50;
        }

        .task-status {
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 12px;
        }

        .task-description {
            color: #2c3e50;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .task-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .timeline-container {
            background: rgba(52, 152, 219, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px;
            background: white;
            border-radius: 6px;
        }

        .timeline-date {
            font-weight: bold;
            color: #2c3e50;
            min-width: 80px;
        }

        .timeline-content {
            flex: 1;
            margin-left: 15px;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .quick-action-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 10px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .quick-action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .project-table {
                font-size: 0.9rem;
            }
            
            .project-table th,
            .project-table td {
                padding: 10px 8px;
            }

            .stats-row {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .form-row,
            .form-row-3 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <h1>üìã Proje Y√∂netimi</h1>
                <p>Projelerinizi planlayƒ±n, takip edin ve y√∂netin</p>
            </div>
            <div class="header-right">
                <button class="btn btn-primary" onclick="openAddModal()">
                    ‚ûï Yeni Proje Ekle
                </button>
                <a href="dashboard.html" class="btn btn-secondary">
                    üè† Dashboard'a D√∂n
                </a>
            </div>
        </div>

        <div class="stats-row">
            <div class="stat-card">
                <div class="stat-icon">üìã</div>
                <div class="stat-number" id="totalProjects">0</div>
                <div class="stat-label">Toplam Proje</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üöÄ</div>
                <div class="stat-number" id="activeProjects">0</div>
                <div class="stat-label">Aktif Proje</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-number" id="completedProjects">0</div>
                <div class="stat-label">Tamamlanan</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚è∞</div>
                <div class="stat-number" id="overdueTasks">0</div>
                <div class="stat-label">Geciken G√∂rev</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìä</div>
                <div class="stat-number" id="avgProgress">0%</div>
                <div class="stat-label">Ortalama ƒ∞lerleme</div>
            </div>
        </div>

        <div class="main-content">
            <div class="project-table-container">
                <div class="table-header">
                    <h2>Proje Listesi</h2>
                    <input type="text" class="search-box" placeholder="üîç Proje ara..." id="searchInput" onkeyup="searchProjects()">
                </div>
                
                <table class="project-table" id="projectTable">
                    <thead>
                        <tr>
                            <th>Proje Kodu</th>
                            <th>Proje Adƒ±</th>
                            <th>M√º≈üteri</th>
                            <th>Durum</th>
                            <th>√ñncelik</th>
                            <th>ƒ∞lerleme</th>
                            <th>Ba≈ülangƒ±√ß</th>
                            <th>Biti≈ü</th>
                            <th>ƒ∞≈ülemler</th>
                        </tr>
                    </thead>
                    <tbody id="projectTableBody">
                        <!-- Dinamik olarak doldurulacak -->
                    </tbody>
                </table>
            </div>

            <div class="project-form-container">
                <h2 style="color: #2c3e50; margin-bottom: 20px;">Proje √ñzeti</h2>
                
                <div class="form-group">
                    <label>Proje Se√ß</label>
                    <select id="quickProjectSelect" onchange="loadProjectSummary()">
                        <option value="">Proje se√ßiniz...</option>
                    </select>
                </div>

                <div id="projectSummary" style="display: none;">
                    <div class="timeline-container">
                        <h3 style="color: #2c3e50; margin-bottom: 15px;">üìÖ Proje Zaman √áizelgesi</h3>
                        <div id="projectTimeline">
                            <!-- Dinamik olarak doldurulacak -->
                        </div>
                    </div>

                    <div style="background: rgba(52, 152, 219, 0.1); border-radius: 10px; padding: 15px; margin-bottom: 20px;">
                        <h3 style="color: #2c3e50; margin-bottom: 15px;">üìù G√∂revler</h3>
                        <div id="projectTasks">
                            <!-- Dinamik olarak doldurulacak -->
                        </div>
                    </div>
                </div>

                <button class="btn btn-success" onclick="openTaskModal()" style="width: 100%; margin-bottom: 15px;">
                    ‚ûï Yeni G√∂rev Ekle
                </button>

                <button class="btn btn-primary" onclick="openAddModal()" style="width: 100%; margin-bottom: 20px;">
                    üìã Yeni Proje Ekle
                </button>

                <div class="quick-actions">
                    <button class="quick-action-btn" onclick="showGanttChart()">
                        <span style="font-size: 20px;">üìä</span>
                        Gantt ≈ûemasƒ±
                    </button>
                    <button class="quick-action-btn" onclick="showReports()">
                        <span style="font-size: 20px;">üìà</span>
                        Raporlar
                    </button>
                    <button class="quick-action-btn" onclick="showCalendar()">
                        <span style="font-size: 20px;">üìÖ</span>
                        Takvim
                    </button>
                    <button class="quick-action-btn" onclick="showTeamView()">
                        <span style="font-size: 20px;">üë•</span>
                        Takƒ±m G√∂r√ºn√ºm√º
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Proje Ekleme/D√ºzenleme Modal -->
    <div id="projectModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Yeni Proje Ekle</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            
            <form id="projectForm">
                <div class="form-row">
                    <div class="form-group">
                        <label>Proje Kodu *</label>
                        <input type="text" id="projectCode" required placeholder="√ñrn: PRJ001">
                    </div>
                    <div class="form-group">
                        <label>Proje Tipi</label>
                        <select id="projectType">
                            <option value="web">Web Geli≈ütirme</option>
                            <option value="mobile">Mobil Uygulama</option>
                            <option value="desktop">Masa√ºst√º Uygulama</option>
                            <option value="design">Tasarƒ±m</option>
                            <option value="marketing">Pazarlama</option>
                            <option value="other">Diƒüer</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Proje Adƒ± *</label>
                    <input type="text" id="projectName" required placeholder="Proje adƒ±nƒ± giriniz">
                </div>

                <div class="form-group">
                    <label>M√º≈üteri/≈ûirket</label>
                    <input type="text" id="projectClient" placeholder="M√º≈üteri veya ≈üirket adƒ±">
                </div>

                <div class="form-group">
                    <label>Proje A√ßƒ±klamasƒ±</label>
                    <textarea id="projectDescription" placeholder="Proje detaylarƒ±..." rows="3"></textarea>
                </div>

                <div class="form-row-3">
                    <div class="form-group">
                        <label>Durum</label>
                        <select id="projectStatus">
                            <option value="planning">Planlama</option>
                            <option value="active">Aktif</option>
                            <option value="paused">Durduruldu</option>
                            <option value="completed">Tamamlandƒ±</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>√ñncelik</label>
                        <select id="projectPriority">
                            <option value="low">D√º≈ü√ºk</option>
                            <option value="medium">Orta</option>
                            <option value="high">Y√ºksek</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ƒ∞lerleme (%)</label>
                        <input type="number" id="projectProgress" min="0" max="100" value="0" placeholder="0">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Ba≈ülangƒ±√ß Tarihi</label>
                        <input type="date" id="startDate" required>
                    </div>
                    <div class="form-group">
                        <label>Biti≈ü Tarihi</label>
                        <input type="date" id="endDate" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>B√ºt√ße (‚Ç∫)</label>
                        <input type="number" id="projectBudget" min="0" step="0.01" placeholder="0.00">
                    </div>
                    <div class="form-group">
                        <label>Proje Y√∂neticisi</label>
                        <input type="text" id="projectManager" placeholder="Proje y√∂neticisi adƒ±">
                    </div>
                </div>

                <div class="form-group">
                    <label>Takƒ±m √úyeleri</label>
                    <textarea id="teamMembers" placeholder="Takƒ±m √ºyelerini virg√ºlle ayƒ±rarak yazƒ±n..." rows="2"></textarea>
                </div>

                <div style="display: flex; gap: 15px; margin-top: 25px;">
                    <button type="submit" class="btn btn-success" style="flex: 1;">
                        ‚úÖ Kaydet
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal()" style="flex: 1;">
                        ‚ùå ƒ∞ptal
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- G√∂rev Ekleme Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Yeni G√∂rev Ekle</h2>
                <span class="close" onclick="closeTaskModal()">&times;</span>
            </div>
            
            <form id="taskForm">
                <div class="form-group">
                    <label>Proje Se√ß *</label>
                    <select id="taskProjectSelect" required>
                        <option value="">Proje se√ßiniz...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>G√∂rev Adƒ± *</label>
                    <input type="text" id="taskName" required placeholder="G√∂rev adƒ±nƒ± giriniz">
                </div>

                <div class="form-group">
                    <label>G√∂rev A√ßƒ±klamasƒ±</label>
                    <textarea id="taskDescription" placeholder="G√∂rev detaylarƒ±..." rows="3"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Sorumlu Ki≈üi</label>
                        <input type="text" id="taskAssignee" placeholder="Sorumlu ki≈üi">
                    </div>
                    <div class="form-group">
                        <label>Durum</label>
                        <select id="taskStatus">
                            <option value="todo">Yapƒ±lacak</option>
                            <option value="inprogress">Devam Ediyor</option>
                            <option value="completed">Tamamlandƒ±</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Ba≈ülangƒ±√ß Tarihi</label>
                        <input type="date" id="taskStartDate">
                    </div>
                    <div class="form-group">
                        <label>Biti≈ü Tarihi</label>
                        <input type="date" id="taskEndDate">
                    </div>
                </div>

                                <div style="display: flex; gap: 15px; margin-top: 25px;">
                    <button type="submit" class="btn btn-success" style="flex: 1;">
                        ‚úÖ G√∂rev Ekle
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="closeTaskModal()" style="flex: 1;">
                        ‚ùå ƒ∞ptal
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bildirim -->
    <div class="notification" id="notification">
        <span id="notificationText"></span>
    </div>

    <script>
        // Proje verileri (LocalStorage'da saklanacak)
        let projectData = JSON.parse(localStorage.getItem('projectData')) || [];
        let taskData = JSON.parse(localStorage.getItem('taskData')) || [];
        let editingProjectIndex = null;

        // Sayfa y√ºklendiƒüinde
        document.addEventListener('DOMContentLoaded', function() {
            loadSampleData();
            loadProjectTable();
            updateStats();
            loadProjectSelects();
            
            // Form submit olaylarƒ±
            document.getElementById('projectForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveProject();
            });

            document.getElementById('taskForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveTask();
            });
        });

        // √ñrnek veri y√ºkleme (ilk √ßalƒ±≈ütƒ±rmada)
        function loadSampleData() {
            if (projectData.length === 0) {
                projectData = [
                    {
                        code: 'PRJ001',
                        name: 'E-Ticaret Web Sitesi',
                        client: 'ABC ≈ûirketi',
                        type: 'web',
                        description: 'Modern e-ticaret platformu geli≈ütirme',
                        status: 'active',
                        priority: 'high',
                        progress: 65,
                        startDate: '2024-06-01',
                        endDate: '2024-08-15',
                        budget: 50000,
                        manager: 'Ahmet Yƒ±lmaz',
                        teamMembers: 'Mehmet Kaya, Fatma Demir, Can √ñzkan',
                        createdAt: new Date().toISOString()
                    },
                    {
                        code: 'PRJ002',
                        name: 'Mobil Uygulama Geli≈ütirme',
                        client: 'XYZ Teknoloji',
                        type: 'mobile',
                        description: 'iOS ve Android mobil uygulama',
                        status: 'planning',
                        priority: 'medium',
                        progress: 15,
                        startDate: '2024-07-15',
                        endDate: '2024-10-30',
                        budget: 75000,
                        manager: 'Elif Arslan',
                        teamMembers: 'Ali Veli, Ay≈üe Yƒ±lmaz',
                        createdAt: new Date().toISOString()
                    },
                    {
                        code: 'PRJ003',
                        name: 'Kurumsal Web Sitesi',
                        client: 'DEF Holding',
                        type: 'web',
                        description: 'Kurumsal web sitesi yenileme',
                        status: 'completed',
                        priority: 'low',
                        progress: 100,
                        startDate: '2024-04-01',
                        endDate: '2024-06-30',
                        budget: 25000,
                        manager: 'Mehmet Demir',
                        teamMembers: 'Zeynep Kaya, Oƒüuz Tan',
                        createdAt: new Date().toISOString()
                    }
                ];

                taskData = [
                    {
                        projectCode: 'PRJ001',
                        name: 'Veritabanƒ± Tasarƒ±mƒ±',
                        description: 'E-ticaret veritabanƒ± ≈üemasƒ± olu≈üturma',
                        assignee: 'Mehmet Kaya',
                        status: 'completed',
                        startDate: '2024-06-01',
                        endDate: '2024-06-15'
                    },
                    {
                        projectCode: 'PRJ001',
                        name: 'Frontend Geli≈ütirme',
                        description: 'Kullanƒ±cƒ± aray√ºz√º kodlama',
                        assignee: 'Fatma Demir',
                        status: 'inprogress',
                        startDate: '2024-06-16',
                        endDate: '2024-07-30'
                    },
                    {
                        projectCode: 'PRJ002',
                        name: 'UI/UX Tasarƒ±m',
                        description: 'Mobil uygulama tasarƒ±mƒ±',
                        assignee: 'Ali Veli',
                        status: 'todo',
                        startDate: '2024-07-15',
                        endDate: '2024-08-01'
                    }
                ];

                localStorage.setItem('projectData', JSON.stringify(projectData));
                localStorage.setItem('taskData', JSON.stringify(taskData));
            }
        }

        // Proje tablosunu y√ºkle
        function loadProjectTable() {
            const tbody = document.getElementById('projectTableBody');
            tbody.innerHTML = '';

            projectData.forEach((project, index) => {
                const row = tbody.insertRow();
                const statusClass = `status-${project.status}`;
                const priorityClass = `priority-${project.priority}`;
                
                row.innerHTML = `
                    <td><strong>${project.code}</strong></td>
                    <td>${project.name}</td>
                    <td>${project.client || '-'}</td>
                    <td><span class="project-status ${statusClass}">${getStatusText(project.status)}</span></td>
                    <td><span class="project-status ${priorityClass}">${getPriorityText(project.priority)}</span></td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${project.progress}%"></div>
                        </div>
                        <small>${project.progress}%</small>
                    </td>
                    <td>${formatDate(project.startDate)}</td>
                    <td>${formatDate(project.endDate)}</td>
                    <td>
                        <button class="btn btn-primary btn-small" onclick="viewProject(${index})">üëÅÔ∏è</button>
                        <button class="btn btn-success btn-small" onclick="editProject(${index})">‚úèÔ∏è</button>
                        <button class="btn btn-danger btn-small" onclick="deleteProject(${index})">üóëÔ∏è</button>
                    </td>
                `;
            });
        }

        // ƒ∞statistikleri g√ºncelle
        function updateStats() {
            const totalProjects = projectData.length;
            const activeProjects = projectData.filter(p => p.status === 'active').length;
            const completedProjects = projectData.filter(p => p.status === 'completed').length;
            const overdueTasks = calculateOverdueTasks();
            const avgProgress = totalProjects > 0 ? 
                Math.round(projectData.reduce((sum, p) => sum + p.progress, 0) / totalProjects) : 0;

            document.getElementById('totalProjects').textContent = totalProjects;
            document.getElementById('activeProjects').textContent = activeProjects;
            document.getElementById('completedProjects').textContent = completedProjects;
            document.getElementById('overdueTasks').textContent = overdueTasks;
            document.getElementById('avgProgress').textContent = avgProgress + '%';
        }

        // Geciken g√∂rev sayƒ±sƒ±nƒ± hesapla
        function calculateOverdueTasks() {
            const today = new Date();
            return taskData.filter(task => {
                const endDate = new Date(task.endDate);
                return endDate < today && task.status !== 'completed';
            }).length;
        }

        // Proje se√ßim listelerini y√ºkle
        function loadProjectSelects() {
            const quickSelect = document.getElementById('quickProjectSelect');
            const taskSelect = document.getElementById('taskProjectSelect');
            
            quickSelect.innerHTML = '<option value="">Proje se√ßiniz...</option>';
            taskSelect.innerHTML = '<option value="">Proje se√ßiniz...</option>';
            
            projectData.forEach(project => {
                const option1 = new Option(`${project.code} - ${project.name}`, project.code);
                const option2 = new Option(`${project.code} - ${project.name}`, project.code);
                quickSelect.add(option1);
                taskSelect.add(option2);
            });
        }

        // Modal a√ßma/kapatma fonksiyonlarƒ±
        function openAddModal() {
            editingProjectIndex = null;
            document.getElementById('modalTitle').textContent = 'Yeni Proje Ekle';
            document.getElementById('projectForm').reset();
            generateProjectCode();
            document.getElementById('projectModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('projectModal').style.display = 'none';
            editingProjectIndex = null;
        }

        function openTaskModal() {
            document.getElementById('taskForm').reset();
            document.getElementById('taskModal').style.display = 'block';
        }

        function closeTaskModal() {
            document.getElementById('taskModal').style.display = 'none';
        }

        // Proje kodu olu≈ütur
        function generateProjectCode() {
            const nextNumber = projectData.length + 1;
            const code = 'PRJ' + String(nextNumber).padStart(3, '0');
            document.getElementById('projectCode').value = code;
        }

        // Proje kaydetme
        function saveProject() {
            const project = {
                code: document.getElementById('projectCode').value,
                name: document.getElementById('projectName').value,
                client: document.getElementById('projectClient').value,
                type: document.getElementById('projectType').value,
                description: document.getElementById('projectDescription').value,
                status: document.getElementById('projectStatus').value,
                priority: document.getElementById('projectPriority').value,
                progress: parseInt(document.getElementById('projectProgress').value) || 0,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                budget: parseFloat(document.getElementById('projectBudget').value) || 0,
                manager: document.getElementById('projectManager').value,
                teamMembers: document.getElementById('teamMembers').value,
                createdAt: editingProjectIndex !== null ? projectData[editingProjectIndex].createdAt : new Date().toISOString()
            };

            // Proje kodu kontrol√º
            const existingProject = projectData.find((proj, index) => 
                proj.code === project.code && index !== editingProjectIndex
            );
            
            if (existingProject) {
                showNotification('Bu proje kodu zaten mevcut!', 'error');
                return;
            }

            if (editingProjectIndex !== null) {
                projectData[editingProjectIndex] = project;
                showNotification('Proje ba≈üarƒ±yla g√ºncellendi!', 'success');
            } else {
                projectData.push(project);
                showNotification('Yeni proje ba≈üarƒ±yla eklendi!', 'success');
            }

            localStorage.setItem('projectData', JSON.stringify(projectData));
            loadProjectTable();
            loadProjectSelects();
            updateStats();
            closeModal();
        }

        // G√∂rev kaydetme
        function saveTask() {
            const task = {
                projectCode: document.getElementById('taskProjectSelect').value,
                name: document.getElementById('taskName').value,
                description: document.getElementById('taskDescription').value,
                assignee: document.getElementById('taskAssignee').value,
                status: document.getElementById('taskStatus').value,
                startDate: document.getElementById('taskStartDate').value,
                endDate: document.getElementById('taskEndDate').value,
                createdAt: new Date().toISOString()
            };

            taskData.push(task);
            localStorage.setItem('taskData', JSON.stringify(taskData));
            
            showNotification('Yeni g√∂rev ba≈üarƒ±yla eklendi!', 'success');
            document.getElementById('taskForm').reset();
            closeTaskModal();
            updateStats();
            
            // Eƒüer se√ßili proje varsa √∂zeti g√ºncelle
            const selectedProject = document.getElementById('quickProjectSelect').value;
            if (selectedProject) {
                loadProjectSummary();
            }
        }

        // Proje i≈ülemleri
        function viewProject(index) {
            const project = projectData[index];
            const projectTasks = taskData.filter(task => task.projectCode === project.code);
            
            let taskList = projectTasks.length > 0 ? 
                projectTasks.map(task => `‚Ä¢ ${task.name} (${getTaskStatusText(task.status)})`).join('\n') :
                'Hen√ºz g√∂rev eklenmemi≈ü.';

            alert(`Proje Detaylarƒ±:\n\nKod: ${project.code}\nAd: ${project.name}\nM√º≈üteri: ${project.client || '-'}\nDurum: ${getStatusText(project.status)}\nƒ∞lerleme: ${project.progress}%\nBa≈ülangƒ±√ß: ${formatDate(project.startDate)}\nBiti≈ü: ${formatDate(project.endDate)}\nB√ºt√ße: ${project.budget.toLocaleString('tr-TR')} ‚Ç∫\nY√∂netici: ${project.manager || '-'}\n\nG√∂revler:\n${taskList}`);
        }

        function editProject(index) {
            editingProjectIndex = index;
            const project = projectData[index];
            
            document.getElementById('modalTitle').textContent = 'Proje D√ºzenle';
            document.getElementById('projectCode').value = project.code;
            document.getElementById('projectName').value = project.name;
            document.getElementById('projectClient').value = project.client;
            document.getElementById('projectType').value = project.type;
            document.getElementById('projectDescription').value = project.description;
            document.getElementById('projectStatus').value = project.status;
            document.getElementById('projectPriority').value = project.priority;
            document.getElementById('projectProgress').value = project.progress;
            document.getElementById('startDate').value = project.startDate;
            document.getElementById('endDate').value = project.endDate;
            document.getElementById('projectBudget').value = project.budget;
            document.getElementById('projectManager').value = project.manager;
            document.getElementById('teamMembers').value = project.teamMembers;
            
            document.getElementById('projectModal').style.display = 'block';
        }

        function deleteProject(index) {
            if (confirm('Bu projeyi silmek istediƒüinizden emin misiniz? ƒ∞li≈ükili t√ºm g√∂revler de silinecektir.')) {
                const project = projectData[index];
                
                // ƒ∞li≈ükili g√∂revleri sil
                taskData = taskData.filter(task => task.projectCode !== project.code);
                localStorage.setItem('taskData', JSON.stringify(taskData));
                
                // Projeyi sil
                projectData.splice(index, 1);
                localStorage.setItem('projectData', JSON.stringify(projectData));
                
                loadProjectTable();
                loadProjectSelects();
                updateStats();
                showNotification(`${project.name} projesi ba≈üarƒ±yla silindi!`, 'success');
            }
        }

        // Proje √∂zeti y√ºkleme
        function loadProjectSummary() {
            const selectedCode = document.getElementById('quickProjectSelect').value;
            const summaryDiv = document.getElementById('projectSummary');
            
            if (!selectedCode) {
                summaryDiv.style.display = 'none';
                return;
            }

            const project = projectData.find(p => p.code === selectedCode);
            const projectTasks = taskData.filter(task => task.projectCode === selectedCode);
            
            // Zaman √ßizelgesi
            const timelineDiv = document.getElementById('projectTimeline');
            timelineDiv.innerHTML = `
                <div class="timeline-item">
                    <div class="timeline-date">Ba≈ülangƒ±√ß</div>
                    <div class="timeline-content">${formatDate(project.startDate)}</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Biti≈ü</div>
                    <div class="timeline-content">${formatDate(project.endDate)}</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">ƒ∞lerleme</div>
                    <div class="timeline-content">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${project.progress}%"></div>
                        </div>
                        ${project.progress}%
                    </div>
                </div>
            `;

            // G√∂revler
            const tasksDiv = document.getElementById('projectTasks');
            if (projectTasks.length === 0) {
                tasksDiv.innerHTML = '<p style="text-align: center; color: #7f8c8d;">Hen√ºz g√∂rev eklenmemi≈ü.</p>';
            } else {
                tasksDiv.innerHTML = projectTasks.map(task => `
                    <div class="task-item">
                        <div class="task-header">
                            <div class="task-title">${task.name}</div>
                            <span class="task-status status-${task.status}">${getTaskStatusText(task.status)}</span>
                        </div>
                        <div class="task-description">${task.description || 'A√ßƒ±klama yok'}</div>
                        <div class="task-meta">
                            <span>Sorumlu: ${task.assignee || 'Atanmamƒ±≈ü'}</span>
                            <span>${formatDate(task.startDate)} - ${formatDate(task.endDate)}</span>
                        </div>
                    </div>
                `).join('');
            }

            summaryDiv.style.display = 'block';
        }

        // Arama fonksiyonu
        function searchProjects() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const rows = document.querySelectorAll('#projectTableBody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        // Hƒ±zlƒ± i≈ülem fonksiyonlarƒ±
        function showGanttChart() {
            showNotification('Gantt ≈üemasƒ± √∂zelliƒüi geli≈ütiriliyor...', 'info');
        }

        function showReports() {
            showNotification('Raporlar mod√ºl√º geli≈ütiriliyor...', 'info');
        }

        function showCalendar() {
            showNotification('Takvim g√∂r√ºn√ºm√º geli≈ütiriliyor...', 'info');
        }

        function showTeamView() {
            showNotification('Takƒ±m g√∂r√ºn√ºm√º geli≈ütiriliyor...', 'info');
        }

        // Yardƒ±mcƒ± fonksiyonlar
        function getStatusText(status) {
            const statusMap = {
                'planning': 'Planlama',
                'active': 'Aktif',
                'paused': 'Durduruldu',
                'completed': 'Tamamlandƒ±'
            };
            return statusMap[status] || status;
        }

        function getPriorityText(priority) {
            const priorityMap = {
                'low': 'D√º≈ü√ºk',
                'medium': 'Orta',
                'high': 'Y√ºksek'
            };
            return priorityMap[priority] || priority;
        }

        function getTaskStatusText(status) {
            const statusMap = {
                'todo': 'Yapƒ±lacak',
                'inprogress': 'Devam Ediyor',
                'completed': 'Tamamlandƒ±'
            };
            return statusMap[status] || status;
        }

        function formatDate(dateString) {
            if (!dateString) return '-';
            const date = new Date(dateString);
            return date.toLocaleDateString('tr-TR');
        }

        // Bildirim g√∂sterme
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            
            // Renk ayarlama
            switch(type) {
                case 'success':
                    notification.style.background = 'linear-gradient(135deg, #27ae60, #229954)';
                    break;
                case 'error':
                    notification.style.background = 'linear-gradient(135deg, #e74c3c, #c0392b)';
                    break;
                case 'info':
                    notification.style.background = 'linear-gradient(135deg, #3498db, #2980b9)';
                    break;
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Modal dƒ±≈üƒ±na tƒ±klayƒ±nca kapatma
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }

        // Sayfa animasyonlarƒ±
        window.addEventListener('load', function() {
            const cards = document.querySelectorAll('.stat-card, .project-table-container, .project-form-container');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>

